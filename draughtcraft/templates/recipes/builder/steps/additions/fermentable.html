<%page args="i, addition" />

${h.hidden(
  'additions-%d.addition' % i,
  addition.id
)}
${h.hidden(
  'additions-%d.use' % i,
  addition.use
)}
${h.hidden(
  'additions-%d.type' % i,
  addition.__class__.__name__
)}

<tr class="addition ${'even' if i % 2 == 0 else 'odd'}">
  <td class="type grain">
    <span>Grain</span>
  </td>
  <td class="percent">
    ${h.format_percentage(addition.percentage, digits=1)}
  </td>
  % if addition.step == 'boil':
    <td class="time">
      ${h.select(
        'additions-%d.duration' % i,
        addition.minutes,
        range(60, -5, -5)
      )}
      min
    </td>
  % endif
  <td class="amount">
    ${h.text(
      'additions-%d.amount' % i,
      addition.printable_amount,
      id = 'additions-%d' % addition.id
    )}
  </td>
  <td>
    <a href="#">${addition.ingredient.printed_name}</a>
  </td>
  <td>
    ${addition.ingredient.ppg}
  </td>
  <td class="unit">
    ${addition.ingredient.lovibond}
  </td>
  <td class="close">
    <a href="#" onclick="$.draughtcraft.recipes.builder.removeAddition(${addition.id});return false;">
      <img src="/images/close.png" />
    </a>
  </td>
</tr>
